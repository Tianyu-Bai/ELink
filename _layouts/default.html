<!doctype html>
<html lang="en">
 <head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
    
   <title>{{ page.title }}</title>
   <link rel="shortcut icon" type="image/x-icon" href="{{ '/Images/icon/favicon.ico' | relative_url }}">
   <link rel="icon" type="image/png" sizes="32x32" href="{{ '/Images/icon/favicon-32x32.png' | relative_url }}">
   <link rel="icon" type="image/png" sizes="16x16" href="{{ '/Images/icon/favicon-16x16.png' | relative_url }}">
   <link rel="apple-touch-icon" sizes="180x180" href="{{ '/Images/icon/apple-touch-icon.png' | relative_url }}">
   <link rel="manifest" href="{{ '/Images/icon/site.webmanifest' | relative_url }}">

   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
   <style>
     /* --- 0. 全局设置 & 赛博朋克变量 --- */
     :root {
       --neon-cyan: #00f3ff;
       --neon-purple: #bc13fe;
       --neon-blue: #3b82f6;
       --dark-bg: #050508;
       --glass-border: rgba(0, 243, 255, 0.3);
     }

     body { 
       margin: 0; padding: 0; color: #e0e7ff; 
       /* 字体更换为更具科技感的 Rajdhani */
       font-family: 'Rajdhani', 'Inter', sans-serif; 
       line-height: 1.6; overflow-x: hidden; 
       cursor: none;
       background-color: var(--dark-bg);
       scrollbar-width: thin; scrollbar-color: var(--neon-cyan) transparent;
     }
     @media (pointer: coarse) { body { cursor: auto; } }

     img, video, iframe {
       max-width: 100% !important;
       height: auto !important;
       box-sizing: border-box;
       /* 图片增加轻微的全息滤镜 */
       filter: contrast(1.1) saturate(1.1) drop-shadow(0 0 5px rgba(0, 243, 255, 0.2));
     }

     /* 滚动条赛博化 */
     ::-webkit-scrollbar { width: 6px; }
     ::-webkit-scrollbar-track { background: #000; }
     ::-webkit-scrollbar-thumb { 
        background: var(--neon-cyan); 
        box-shadow: 0 0 10px var(--neon-cyan);
        border-radius: 0; /* 硬边角 */
     }
     ::selection { background: var(--neon-purple); color: #fff; text-shadow: 0 0 5px #fff; }

     /* --- CRT 扫描线特效 (新增) --- */
     .scanlines {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
        background: repeating-linear-gradient(0deg, rgba(0,0,0,0) 0px, rgba(0,0,0,0) 1px, rgba(0,0,0,0.1) 2px, rgba(0,0,0,0.1) 3px);
        pointer-events: none; z-index: 99998;
        opacity: 0.6;
     }
     .vignette {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        box-shadow: 0 0 150px rgba(0,0,0,0.9) inset;
        pointer-events: none; z-index: 99997;
     }

     /* --- 1. 自定义光标 (升级为瞄准镜风格) --- */
     .cursor-dot {
       position: fixed; top: 0; left: 0; 
       transform: translate(-50%, -50%); border-radius: 50%; z-index: 99999; pointer-events: none;
       width: 6px; height: 6px; background-color: var(--neon-cyan);
       box-shadow: 0 0 10px var(--neon-cyan);
     }
     .cursor-outline { 
       position: fixed; top: 0; left: 0; 
       transform: translate(-50%, -50%); z-index: 99999; pointer-events: none;
       width: 40px; height: 40px; 
       border: 1px solid var(--neon-cyan);
       /* 从圆形改为菱形/十字准星风格 */
       border-radius: 0; 
       transform: translate(-50%, -50%) rotate(45deg);
       transition: width 0.2s, height 0.2s, background-color 0.2s;
       box-shadow: 0 0 5px var(--neon-cyan), inset 0 0 5px var(--neon-cyan);
     }
     body.hovering .cursor-outline { 
        width: 60px; height: 60px; 
        background-color: rgba(0, 243, 255, 0.1); 
        box-shadow: 0 0 15px var(--neon-cyan);
     }

     /* --- 2. 进度条 --- */
     #progress-bar {
       position: fixed; top: 0; left: 0; height: 2px;
       background: var(--neon-cyan); 
       box-shadow: 0 0 15px var(--neon-cyan);
       width: 0%; z-index: 99999; transition: width 0.1s;
     }

     /* --- 3. 背景 --- */
     #vanta-bg { 
       position: fixed; z-index: -5; top: 0; left: 0; width: 100%; height: 100%; 
       background: var(--dark-bg); 
       /* 移除之前的 pulse 动画，改用 JS 控制更精确 */
     }

     /* --- 4. 布局包裹器 --- */
     .layout-wrapper {
       position: relative; max-width: 900px; margin: 90px auto 60px; z-index: 10;
       perspective: 1000px;
     }

     /* --- 5. 机器人 (赛博化：发光眼 & 故障抖动) --- */
     #bot-container { 
        position: absolute; top: -50px; left: 50%; transform: translateX(-50%); 
        width: 120px; height: 70px; z-index: 9999; cursor: pointer; opacity: 0; 
        animation: botEnter 0.8s ease-out 0.8s forwards; transition: transform 0.3s ease; 
     }
     /* 机器人头部：更硬朗的线条 */
     .bot-head { 
        width: 100px; height: 50px; background: #0f172a; 
        border: 1px solid var(--neon-cyan); border-bottom: none; 
        border-radius: 50px 50px 10px 10px; margin: 0 auto; position: relative; 
        box-shadow: 0 -5px 20px rgba(0, 243, 255, 0.2), inset 0 0 10px rgba(0, 0, 0, 0.8);
        display: flex; justify-content: center; align-items: center; gap: 12px; padding-top: 5px; 
        animation: float-bot 3s ease-in-out infinite; 
     }
     /* 机器人眼睛：LED 风格 */
     .bot-eye { 
        width: 24px; height: 24px; background: #000; border-radius: 50%; 
        border: 1px solid #333; position: relative; overflow: hidden; 
        box-shadow: 0 0 5px var(--neon-cyan);
     }
     .bot-pupil { 
        width: 10px; height: 10px; background: var(--neon-cyan); border-radius: 50%; 
        position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); 
        box-shadow: 0 0 8px var(--neon-cyan);
     }
     .bot-lid { 
        position: absolute; top: 0; left: 0; width: 100%; height: 0%; 
        background: #0f172a; z-index: 10; animation: blink 4s infinite; 
     }
     .bot-antenna { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 2px; height: 15px; background: var(--neon-purple); }
     .bot-antenna::after { 
        content: ''; position: absolute; top: -6px; left: -3px; width: 8px; height: 8px; 
        background: var(--neon-purple); border-radius: 50%; 
        box-shadow: 0 0 10px var(--neon-purple);
        animation: pulse-antenna 1s infinite; /* 更快的脉冲 */
     }
     /* 机器人被点击后的晕眩改为 Glitch */
     #bot-container.dizzy .bot-head { animation: glitch-anim 0.3s infinite; border-color: red; }
     #bot-container.dizzy .bot-pupil { background: red; box-shadow: 0 0 10px red; }

     /* --- 6. 容器 (HUD 风格) --- */
     .container { 
       position: relative; padding: 60px 80px; 
       /* 更深的玻璃底色 */
       background: rgba(10, 10, 16, 0.7); 
       backdrop-filter: blur(12px) saturate(180%); -webkit-backdrop-filter: blur(12px) saturate(180%); 
       /* 霓虹边框 */
       border: 1px solid rgba(0, 243, 255, 0.15); 
       border-top: 1px solid var(--neon-cyan);
       border-bottom: 1px solid var(--neon-purple);
       box-shadow: 0 0 40px rgba(0, 243, 255, 0.05); 
       opacity: 0; animation: fadeUp 0.8s ease-out 0.3s forwards; z-index: 1;
       transform-style: preserve-3d; transition: transform 0.1s ease-out; 
       /* HUD 角标装饰 */
       clip-path: polygon(
           0 10px, 10px 0, 
           calc(100% - 10px) 0, 100% 10px, 
           100% calc(100% - 10px), calc(100% - 10px) 100%, 
           10px 100%, 0 calc(100% - 10px)
       );
     }
     /* 装饰线 */
     .container::before {
        content: "NEURO-LINK :: SYSTEM ONLINE";
        position: absolute; top: -25px; left: 0;
        font-family: 'JetBrains Mono'; font-size: 0.7rem; color: var(--neon-cyan);
        letter-spacing: 2px; opacity: 0.7;
     }

     /* 内容区域字体增强 */
     #main_content { color: #cbd5e1; }
     /* 强制标题样式 */
     #main_content h1, #main_content h2, #main_content h3 {
        font-family: 'Rajdhani', sans-serif;
        text-transform: uppercase;
        color: #fff;
        text-shadow: 2px 2px 0px rgba(0,243,255,0.2);
        letter-spacing: 1px;
     }
     #main_content h1 { font-weight: 700; border-bottom: 2px solid var(--neon-cyan); display: inline-block; padding-bottom: 5px; }
     
     /* 表格赛博化 */
     #main_content table {
       width: 100% !important; border-collapse: separate; border-spacing: 0; margin: 25px 0;
       border: 1px solid rgba(0, 243, 255, 0.2);
       background: rgba(5, 5, 10, 0.5);
       border-radius: 4px; overflow: hidden;
       box-shadow: 0 0 15px rgba(0,0,0,0.5);
     }
     #main_content th, #main_content td {
       padding: 14px; border-bottom: 1px solid rgba(0, 243, 255, 0.1); border-right: 1px solid rgba(0, 243, 255, 0.05);
     }
     #main_content tr:first-child, #main_content thead tr {
       background: rgba(0, 243, 255, 0.1) !important;
     }
     #main_content th { 
        color: var(--neon-cyan); font-family: 'JetBrains Mono'; 
        text-transform: uppercase; letter-spacing: 1px; font-size: 0.9em;
     }

     .typewriter-container { 
        font-family: 'JetBrains Mono', monospace; font-size: 1rem; 
        color: var(--neon-cyan); margin-bottom: 2rem; 
        text-shadow: 0 0 5px var(--neon-cyan);
     }
     .typewriter-cursor { 
        display: inline-block; width: 10px; height: 1.2em;
        background: var(--neon-cyan);
        animation: blink-cursor 0.8s step-end infinite; 
        vertical-align: text-bottom; margin-left: 5px;
     }

     /* --- 7. Badge 样式 --- */
     .nav-badges { margin: 2rem 0; display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; }
     .nav-badges a { opacity: 0; animation: fadeUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; position: relative; }
     .nav-badges img { 
       height: 32px !important; width: auto; border-radius: 4px; /* 方形更赛博 */
       box-shadow: 0 0 10px rgba(0, 243, 255, 0.1); 
       border: 1px solid rgba(255,255,255,0.2); 
       transition: all 0.3s; 
       filter: grayscale(0.5) brightness(0.8); /* 默认暗淡 */
     }
     .nav-badges a:hover img { 
        filter: grayscale(0) brightness(1.2) drop-shadow(0 0 8px var(--neon-cyan));
        transform: scale(1.05); 
        border-color: var(--neon-cyan);
     }
     .nav-badges img.rippling { animation: glitch-anim 0.3s forwards; }
       
     /* --- 动画库 --- */
     @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
     @keyframes float-bot { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
     @keyframes blink { 0%, 48%, 52%, 100% { height: 0%; } 50% { height: 100%; } }
     @keyframes pulse-antenna { 0% { opacity: 0.5; box-shadow: 0 0 0px var(--neon-purple); } 100% { opacity: 1; box-shadow: 0 0 10px var(--neon-purple); } }
     @keyframes botEnter { from { opacity: 0; transform: translateX(-50%) translateY(30px); } to { opacity: 1; transform: translateX(-50%) translateY(0); } }
     @keyframes blink-cursor { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
     
     /* 故障效果动画 */
     @keyframes glitch-anim {
        0% { transform: translate(0); }
        20% { transform: translate(-2px, 2px); }
        40% { transform: translate(-2px, -2px); }
        60% { transform: translate(2px, 2px); }
        80% { transform: translate(2px, -2px); }
        100% { transform: translate(0); }
     }

     @media (max-width: 768px) { 
       .cursor-dot, .cursor-outline, #bot-container { display: none; } 
       .container { padding: 30px 20px; border: 1px solid rgba(0, 243, 255, 0.2); } 
       #main_content { overflow-x: auto; }
       .layout-wrapper { margin-top: 40px; }
     }
   </style>
 </head>
 
 <body>
   <div class="scanlines"></div>
   <div class="vignette"></div>
   <div class="cursor-dot"></div>
   <div class="cursor-outline"></div>
   <div id="progress-bar"></div>
   <div id="vanta-bg"></div>
 
   <div class="layout-wrapper">
     <div id="bot-container" title="System Monitor">
       <div class="bot-antenna"></div>
       <div class="bot-head">
         <div class="bot-eye"><div class="bot-pupil"></div><div class="bot-lid"></div></div>
         <div class="bot-eye"><div class="bot-pupil"></div><div class="bot-lid"></div></div>
       </div>
     </div>
 
     <div class="container">
       <section id="main_content">
         {{ content }}
       </section>
 
       <div class="typewriter-container">
         <span style="color: #64748b; margin-right: 10px;">></span><span id="typewriter-text"></span><span class="typewriter-cursor"></span>
       </div>
 
       <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid rgba(0, 243, 255, 0.1); text-align: center; color: #64748b; font-size: 0.8rem; font-family: 'JetBrains Mono';">
         <p>SYSTEM STATUS: STABLE • E-LINK v2.0 • © 2026</p>
       </footer>
     </div>
   </div>
 
   <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
   <script>
     // 1. Vanta.js 配置升级：更像神经元连接
     let vantaEffect = VANTA.NET({
       el: "#vanta-bg",
       mouseControls: true, touchControls: true, gyroControls: false,
       minHeight: 200.00, minWidth: 200.00, scale: 1.00, scaleMobile: 1.00,
       color: 0x00f3ff,          // 连线颜色：霓虹青
       backgroundColor: 0x050508,// 背景：深黑
       points: 12.00,            // 点的数量减少，更清晰
       maxDistance: 22.00,       // 连接距离
       spacing: 18.00,
       showDots: true
     });
 
     // 2. 打字机内容更具科技感
     const texts = ["Initializing Neural Link...", "Reading neuronal activity...", "Welcome to E-Link."];
     let textIdx = 0, charIdx = 0, isDeleting = false;
     function type() {
       const currentText = texts[textIdx];
       const display = isDeleting ? currentText.substring(0, charIdx--) : currentText.substring(0, charIdx++);
       document.getElementById('typewriter-text').textContent = display;
       let speed = isDeleting ? 30 : 70; // 打字速度加快
       // 随机停顿，模拟数据传输不稳
       if(Math.random() > 0.9) speed += 100;

       if (!isDeleting && charIdx === currentText.length + 1) { isDeleting = true; speed = 2500; } 
       else if (isDeleting && charIdx === 0) { isDeleting = false; textIdx = (textIdx + 1) % texts.length; speed = 500; }
       setTimeout(type, speed);
     }
 
     document.addEventListener("DOMContentLoaded", function() {
       type();
       const cursorDot = document.querySelector('.cursor-dot');
       const cursorOutline = document.querySelector('.cursor-outline');
       const container = document.querySelector('.container');
       const pupils = document.querySelectorAll('.bot-pupil');
       const botContainer = document.getElementById('bot-container');
 
       window.addEventListener('mousemove', (e) => {
         const { clientX: px, clientY: py } = e;
         if(cursorDot) { cursorDot.style.left = `${px}px`; cursorDot.style.top = `${py}px`; }
         if(cursorOutline) { cursorOutline.animate({ left: `${px}px`, top: `${py}px` }, { duration: 400, fill: "forwards" }); }
 
         // 容器 3D 视差效果增强
         if (window.innerWidth > 768 && container) {
           const rx = (window.innerWidth / 2 - px) / 40; // 敏感度增加
           const ry = (window.innerHeight / 2 - py) / 40;
           container.style.transform = `rotateY(${rx * -1}deg) rotateX(${ry}deg) translateZ(10px)`;
         }
         
         // 机器人眼睛跟随
         pupils.forEach(p => {
           const rect = p.parentElement.getBoundingClientRect();
           const cx = rect.left + rect.width / 2, cy = rect.top + rect.height / 2;
           const angle = Math.atan2(py - cy, px - cx);
           const dist = Math.min(8, Math.hypot(px - cx, py - cy) / 8);
           p.style.transform = `translate(calc(-50% + ${Math.cos(angle) * dist}px), calc(-50% + ${Math.sin(angle) * dist}px))`;
         });
       });
 
       const badges = document.querySelectorAll('.nav-badges a');
       badges.forEach(b => {
         b.addEventListener('mouseenter', () => {
           document.body.classList.add('badge-hovering', 'hovering');
           // 悬停时背景网络变色 (紫色警告)
           if(vantaEffect) vantaEffect.setOptions({ color: 0xbc13fe, backgroundColor: 0x1a0518 });
         });
         b.addEventListener('mouseleave', () => {
           document.body.classList.remove('badge-hovering', 'hovering');
           if(vantaEffect) vantaEffect.setOptions({ color: 0x00f3ff, backgroundColor: 0x050508 });
         });
         b.addEventListener('click', function(e) {
           e.preventDefault();
           const url = this.href;
           badges.forEach((sib, idx) => {
              const img = sib.querySelector('img');
              img.style.animationDelay = `${Math.abs(idx - [...badges].indexOf(this)) * 0.05}s`;
              img.classList.add('rippling');
           });
           setTimeout(() => window.location.href = url, 400);
         });
       });
 
       // 机器人点击效果：故障
       if(botContainer) {
         botContainer.addEventListener('click', () => {
           botContainer.classList.add('dizzy');
           // 背景剧烈闪烁
           if(vantaEffect) vantaEffect.setOptions({ color: 0xff0000, spacing: 50 });
           setTimeout(() => {
             botContainer.classList.remove('dizzy');
              if(vantaEffect) vantaEffect.setOptions({ color: 0x00f3ff, spacing: 18 });
           }, 800);
         });
       }
 
       window.addEventListener('scroll', () => {
         const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
         const pb = document.getElementById("progress-bar");
         if(pb) pb.style.width = scrolled + "%";
       });
     });
   </script>
 </body>
</html>
